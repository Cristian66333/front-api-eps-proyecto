<script>
    var table = document.getElementById('tableBody')
    fetch("https://api-eps-proyecto.vercel.app/assigments").then(resp=>resp.json())
    .then(resp=>{
        console.log(resp)
        resp.data.forEach(n => {
            var row = document.createElement('tr')
            var tdNumberOffice = document.createElement('td')
            tdNumberOffice.append(document.createTextNode(n.idOffice.numberOffice))
            row.append(tdNumberOffice)
            var tdFloor = document.createElement('td')
            tdFloor.append(document.createTextNode(n.idOffice.floor))
            row.append(tdFloor)
            var tdDocumentDoctor = document.createElement('td')
            tdDocumentDoctor.append(document.createTextNode(n.documentDoctorId.documentId))
            row.append(tdDocumentDoctor)
            var tdName = document.createElement('td')
            tdName.append(document.createTextNode(n.documentDoctorId.name))
            row.append(tdName)
            var tdSpeciality = document.createElement('td')
            tdSpeciality.append(document.createTextNode(n.documentDoctorId.speciality.name))
            row.append(tdSpeciality)
            var tdFecha = document.createElement('td')
            var fecha = n.date.split('T')[0]
            tdFecha.append(document.createTextNode(fecha))
            row.append(tdFecha)
            var tdInicio = document.createElement('td')
            var fecha2 = n.inicio.split('T')[1].substring(0,5);
            tdInicio.append(document.createTextNode(fecha2))
            row.append(tdInicio)
            var tdFin = document.createElement('td')
            var fecha3 = n.fin.split('T')[1].substring(0,5);
            tdFin.append(document.createTextNode(fecha3))
            row.append(tdFin)
            table.append(row)
        });
        $('#tablaAsignacion').DataTable();
    })
    
</script>    